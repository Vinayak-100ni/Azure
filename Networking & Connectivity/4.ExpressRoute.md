ğŸŸ¢ STEP 1: Create Azure Virtual Network

Azure Portal â†’ Virtual Networks

Click + Create

Configure:

Address space: 10.10.0.0/16

Subnet: 10.10.1.0/24

Create

ğŸŸ¢ STEP 2: Create Gateway Subnet

Open your VNet

Go to Subnets

Click + Gateway subnet

CIDR:

10.10.255.0/27


Save

âš ï¸ Name must be GatewaySubnet

ğŸŸ¢ STEP 3: Create ExpressRoute Gateway (VNet Gateway)

Azure Portal â†’ Virtual Network Gateways

Click + Create

Configure:

Gateway type: ExpressRoute

SKU: ErGw1AZ (or higher)

Virtual network: Select your VNet

Public IP: Create new

Create

â³ Takes 45â€“60 minutes

ğŸŸ¢ STEP 4: Create ExpressRoute Circuit

Azure Portal â†’ ExpressRoute circuits

Click + Create

Configure:

Name: ER-Circuit

Provider: Your connectivity provider

Peering location: Nearest location

Bandwidth: 1 Gbps (example)

SKU:

Tier: Standard or Premium

Billing: Metered or Unlimited

Create

ğŸŸ¢ STEP 5: Copy Service Key

Open ExpressRoute Circuit

Copy:

Service Key


ğŸ“Œ This is required by your connectivity provider

ğŸŸ¢ STEP 6: Provider Provisions the Circuit

Your provider:

Uses Service Key

Establishes physical connectivity

Configures BGP on their side

â³ Time varies (hours â†’ days)

ğŸŸ¢ STEP 7: Configure ExpressRoute Peering

Open ExpressRoute Circuit

Go to Peerings

Click + Add Azure Private Peering

Configure:

VLAN ID: (from provider)

Peer ASN: (your on-prem ASN)

Primary subnet: 192.168.10.0/30

Secondary subnet: 192.168.10.4/30

Save

ğŸŸ¢ STEP 8: Link ExpressRoute to VNet

ExpressRoute Circuit â†’ Connections

Click + Add

Select:

ExpressRoute Gateway

Target VNet

Create

ğŸŸ¢ STEP 9: Configure On-Prem Router

On-prem device configuration:

BGP neighbor = Microsoft Edge IPs

Advertise on-prem routes

Accept Azure VNet routes

âœ” Uses private IPs
âœ” No encryption (private circuit)

ğŸŸ¢ STEP 10: Verify Connection

ExpressRoute Circuit â†’ Status:

Provisioned


Peering state:

Enabled


Gateway connection:

Connected
